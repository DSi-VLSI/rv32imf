.equ USTATUS,          0x000
.equ FFLAGS,           0x001
.equ FRM,              0x002
.equ FCSR,             0x003
.equ UTVEC,            0x005
.equ UEPC,             0x041
.equ UCAUSE,           0x042
.equ LPSTART0,         0xCC0
.equ LPEND0,           0xCC1
.equ LPCOUNT0,         0xCC2
.equ LPSTART1,         0xCC4
.equ LPEND1,           0xCC5
.equ LPCOUNT1,         0xCC6
.equ UHARTID,          0xCD0
.equ PRIVLV,           0xCD1
.equ ZFINX,            0xCD2
.equ MSTATUS,          0x300
.equ MISA,             0x301
.equ MIE,              0x304
.equ MTVEC,            0x305
.equ MCOUNTEREN,       0x306
.equ MCOUNTINHIBIT,    0x320
.equ MHPMEVENT3,       0x323
.equ MHPMEVENT4,       0x324
.equ MHPMEVENT5,       0x325
.equ MHPMEVENT6,       0x326
.equ MHPMEVENT7,       0x327
.equ MHPMEVENT8,       0x328
.equ MHPMEVENT9,       0x329
.equ MHPMEVENT10,      0x32A
.equ MHPMEVENT11,      0x32B
.equ MHPMEVENT12,      0x32C
.equ MHPMEVENT13,      0x32D
.equ MHPMEVENT14,      0x32E
.equ MHPMEVENT15,      0x32F
.equ MHPMEVENT16,      0x330
.equ MHPMEVENT17,      0x331
.equ MHPMEVENT18,      0x332
.equ MHPMEVENT19,      0x333
.equ MHPMEVENT20,      0x334
.equ MHPMEVENT21,      0x335
.equ MHPMEVENT22,      0x336
.equ MHPMEVENT23,      0x337
.equ MHPMEVENT24,      0x338
.equ MHPMEVENT25,      0x339
.equ MHPMEVENT26,      0x33A
.equ MHPMEVENT27,      0x33B
.equ MHPMEVENT28,      0x33C
.equ MHPMEVENT29,      0x33D
.equ MHPMEVENT30,      0x33E
.equ MHPMEVENT31,      0x33F
.equ MSCRATCH,         0x340
.equ MEPC,             0x341
.equ MCAUSE,           0x342
.equ MTVAL,            0x343
.equ MIP,              0x344
.equ PMPCFG0,          0x3A0
.equ PMPCFG1,          0x3A1
.equ PMPCFG2,          0x3A2
.equ PMPCFG3,          0x3A3
.equ PMPADDR0,         0x3B0
.equ PMPADDR1,         0x3B1
.equ PMPADDR2,         0x3B2
.equ PMPADDR3,         0x3B3
.equ PMPADDR4,         0x3B4
.equ PMPADDR5,         0x3B5
.equ PMPADDR6,         0x3B6
.equ PMPADDR7,         0x3B7
.equ PMPADDR8,         0x3B8
.equ PMPADDR9,         0x3B9
.equ PMPADDR10,        0x3BA
.equ PMPADDR11,        0x3BB
.equ PMPADDR12,        0x3BC
.equ PMPADDR13,        0x3BD
.equ PMPADDR14,        0x3BE
.equ PMPADDR15,        0x3BF
.equ TSELECT,          0x7A0
.equ TDATA1,           0x7A1
.equ TDATA2,           0x7A2
.equ TDATA3,           0x7A3
.equ TINFO,            0x7A4
.equ MCONTEXT,         0x7A8
.equ SCONTEXT,         0x7AA
.equ DCSR,             0x7B0
.equ DPC,              0x7B1
.equ DSCRATCH0,        0x7B2
.equ DSCRATCH1,        0x7B3
.equ MCYCLE,           0xB00
.equ MTIME,            0xB01
.equ MINSTRET,         0xB02
.equ MHPMCOUNTER3,     0xB03
.equ MHPMCOUNTER4,     0xB04
.equ MHPMCOUNTER5,     0xB05
.equ MHPMCOUNTER6,     0xB06
.equ MHPMCOUNTER7,     0xB07
.equ MHPMCOUNTER8,     0xB08
.equ MHPMCOUNTER9,     0xB09
.equ MHPMCOUNTER10,    0xB0A
.equ MHPMCOUNTER11,    0xB0B
.equ MHPMCOUNTER12,    0xB0C
.equ MHPMCOUNTER13,    0xB0D
.equ MHPMCOUNTER14,    0xB0E
.equ MHPMCOUNTER15,    0xB0F
.equ MHPMCOUNTER16,    0xB10
.equ MHPMCOUNTER17,    0xB11
.equ MHPMCOUNTER18,    0xB12
.equ MHPMCOUNTER19,    0xB13
.equ MHPMCOUNTER20,    0xB14
.equ MHPMCOUNTER21,    0xB15
.equ MHPMCOUNTER22,    0xB16
.equ MHPMCOUNTER23,    0xB17
.equ MHPMCOUNTER24,    0xB18
.equ MHPMCOUNTER25,    0xB19
.equ MHPMCOUNTER26,    0xB1A
.equ MHPMCOUNTER27,    0xB1B
.equ MHPMCOUNTER28,    0xB1C
.equ MHPMCOUNTER29,    0xB1D
.equ MHPMCOUNTER30,    0xB1E
.equ MHPMCOUNTER31,    0xB1F
.equ MCYCLEH,          0xB80
.equ MTIMEH,           0xB81
.equ MINSTRETH,        0xB82
.equ MHPMCOUNTER3H,    0xB83
.equ MHPMCOUNTER4H,    0xB84
.equ MHPMCOUNTER5H,    0xB85
.equ MHPMCOUNTER6H,    0xB86
.equ MHPMCOUNTER7H,    0xB87
.equ MHPMCOUNTER8H,    0xB88
.equ MHPMCOUNTER9H,    0xB89
.equ MHPMCOUNTER10H,   0xB8A
.equ MHPMCOUNTER11H,   0xB8B
.equ MHPMCOUNTER12H,   0xB8C
.equ MHPMCOUNTER13H,   0xB8D
.equ MHPMCOUNTER14H,   0xB8E
.equ MHPMCOUNTER15H,   0xB8F
.equ MHPMCOUNTER16H,   0xB90
.equ MHPMCOUNTER17H,   0xB91
.equ MHPMCOUNTER18H,   0xB92
.equ MHPMCOUNTER19H,   0xB93
.equ MHPMCOUNTER20H,   0xB94
.equ MHPMCOUNTER21H,   0xB95
.equ MHPMCOUNTER22H,   0xB96
.equ MHPMCOUNTER23H,   0xB97
.equ MHPMCOUNTER24H,   0xB98
.equ MHPMCOUNTER25H,   0xB99
.equ MHPMCOUNTER26H,   0xB9A
.equ MHPMCOUNTER27H,   0xB9B
.equ MHPMCOUNTER28H,   0xB9C
.equ MHPMCOUNTER29H,   0xB9D
.equ MHPMCOUNTER30H,   0xB9E
.equ MHPMCOUNTER31H,   0xB9F
.equ CYCLE,            0xC00
.equ TIME,             0xC01
.equ INSTRET,          0xC02
.equ HPMCOUNTER3,      0xC03
.equ HPMCOUNTER4,      0xC04
.equ HPMCOUNTER5,      0xC05
.equ HPMCOUNTER6,      0xC06
.equ HPMCOUNTER7,      0xC07
.equ HPMCOUNTER8,      0xC08
.equ HPMCOUNTER9,      0xC09
.equ HPMCOUNTER10,     0xC0A
.equ HPMCOUNTER11,     0xC0B
.equ HPMCOUNTER12,     0xC0C
.equ HPMCOUNTER13,     0xC0D
.equ HPMCOUNTER14,     0xC0E
.equ HPMCOUNTER15,     0xC0F
.equ HPMCOUNTER16,     0xC10
.equ HPMCOUNTER17,     0xC11
.equ HPMCOUNTER18,     0xC12
.equ HPMCOUNTER19,     0xC13
.equ HPMCOUNTER20,     0xC14
.equ HPMCOUNTER21,     0xC15
.equ HPMCOUNTER22,     0xC16
.equ HPMCOUNTER23,     0xC17
.equ HPMCOUNTER24,     0xC18
.equ HPMCOUNTER25,     0xC19
.equ HPMCOUNTER26,     0xC1A
.equ HPMCOUNTER27,     0xC1B
.equ HPMCOUNTER28,     0xC1C
.equ HPMCOUNTER29,     0xC1D
.equ HPMCOUNTER30,     0xC1E
.equ HPMCOUNTER31,     0xC1F
.equ CYCLEH,           0xC80
.equ TIMEH,            0xC81
.equ INSTRETH,         0xC82
.equ HPMCOUNTER3H,     0xC83
.equ HPMCOUNTER4H,     0xC84
.equ HPMCOUNTER5H,     0xC85
.equ HPMCOUNTER6H,     0xC86
.equ HPMCOUNTER7H,     0xC87
.equ HPMCOUNTER8H,     0xC88
.equ HPMCOUNTER9H,     0xC89
.equ HPMCOUNTER10H,    0xC8A
.equ HPMCOUNTER11H,    0xC8B
.equ HPMCOUNTER12H,    0xC8C
.equ HPMCOUNTER13H,    0xC8D
.equ HPMCOUNTER14H,    0xC8E
.equ HPMCOUNTER15H,    0xC8F
.equ HPMCOUNTER16H,    0xC90
.equ HPMCOUNTER17H,    0xC91
.equ HPMCOUNTER18H,    0xC92
.equ HPMCOUNTER19H,    0xC93
.equ HPMCOUNTER20H,    0xC94
.equ HPMCOUNTER21H,    0xC95
.equ HPMCOUNTER22H,    0xC96
.equ HPMCOUNTER23H,    0xC97
.equ HPMCOUNTER24H,    0xC98
.equ HPMCOUNTER25H,    0xC99
.equ HPMCOUNTER26H,    0xC9A
.equ HPMCOUNTER27H,    0xC9B
.equ HPMCOUNTER28H,    0xC9C
.equ HPMCOUNTER29H,    0xC9D
.equ HPMCOUNTER30H,    0xC9E
.equ HPMCOUNTER31H,    0xC9F
.equ MVENDORID,        0xF11
.equ MARCHID,          0xF12
.equ MIMPID,           0xF13
.equ MHARTID,          0xF14

.section .data

.align 2
.globl tohost
tohost: .dword 0

.align 2
.globl putchar_stdout
putchar_stdout: .dword 0

.section .text
.globl _start
_start:
    csrc MCOUNTINHIBIT, 1
    call main

_exit:
    la t0, tohost
    sw a0, 0(t0)

_forever_loop:
    j _forever_loop
